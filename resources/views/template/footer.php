<!-- Footer -->
<div class="mx-4 p-3">
    <div class="row">
        <div class="col-sm-12 text-center">
            <span><b>Copyright &copy; 2014-2022 <a href="http://www.hamko-ict.com/">Hamko-ICT.</a> All rights reserved.</b></span>
        </div>
    </div>
</div>
<!-- Required Jquery -->
<!-- <script data-cfasync="false" src="..\..\..\cdn-cgi\scripts\5c5dd728\cloudflare-static\email-decode.min.js"></script> -->

<!-- jquery slimscroll js -->
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\jquery-slimscroll\js\jquery.slimscroll.js'); ?>"></script>
<!-- modernizr js -->
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\modernizr\js\modernizr.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\modernizr\js\css-scrollbars.js'); ?>"></script>
<!-- Select 2 js -->
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\select2\js\select2.full.min.js'); ?>"></script>
<!-- Multiselect js -->
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\bootstrap-multiselect\js\bootstrap-multiselect.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\multiselect\js\jquery.multi-select.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\js\jquery.quicksearch.js'); ?>"></script>
<!-- Switch component js -->
<!-- <script type="text/javascript" src="<?php echo asset('libraries\bower_components\switchery\js\switchery.min.js'); ?>"></script> -->
<!-- Tags js -->
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\bootstrap-tagsinput\js\bootstrap-tagsinput.js'); ?>"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.4/typeahead.bundle.min.js"></script> -->
<!-- Bootstrap date-time-picker js -->
<!-- <script type="text/javascript" src="<?php echo asset('libraries\pages\advance-elements\moment-with-locales.min.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\bootstrap-datepicker\js\bootstrap-datepicker.min.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\pages\advance-elements\bootstrap-datetimepicker.min.js'); ?>"></script> -->
<!-- Date-range picker js -->
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\bootstrap-daterangepicker\js\daterangepicker.js'); ?>"></script>
<!-- Date-dropper js -->
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\datedropper\js\datedropper.min.js'); ?>"></script>

<!-- Animation js -->
<script type="text/javascript" src="<?php echo asset('libraries\js\animation.js') ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\chart.js\js\Chart.js')?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\pages\dashboard\amchart\js\amcharts.js')?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\pages\dashboard\amchart\js\serial.js')?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\pages\dashboard\amchart\js\light.js')?>"></script>
<!-- data-table js -->
<script src="<?php echo asset('libraries\bower_components\datatables.net\js\jquery.dataTables.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\bower_components\datatables.net-buttons\js\dataTables.buttons.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\pages\data-table\js\jszip.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\pages\data-table\js\pdfmake.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\pages\data-table\js\vfs_fonts.js'); ?>"></script>
<script src="<?php echo asset('libraries\pages\data-table\extensions\buttons\js\dataTables.buttons.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\pages\data-table\extensions\buttons\js\buttons.flash.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\pages\data-table\extensions\buttons\js\jszip.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\pages\data-table\extensions\buttons\js\vfs_fonts.js'); ?>"></script>
<script src="<?php echo asset('libraries\pages\data-table\extensions\buttons\js\buttons.colVis.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\bower_components\datatables.net-buttons\js\buttons.print.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\bower_components\datatables.net-buttons\js\buttons.html5.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\bower_components\datatables.net-bs4\js\dataTables.bootstrap4.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\bower_components\datatables.net-responsive\js\dataTables.responsive.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\bower_components\datatables.net-responsive-bs4\js\responsive.bootstrap4.min.js'); ?>"></script>

<!-- Editable-table js -->
<!-- <script type="text/javascript" src="<?php echo asset('libraries\pages\edit-table\jquery.tabledit.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\pages\edit-table\editable.js'); ?>"></script> -->

<!-- LightBox -->
<script type="text/javascript" src="<?php echo asset('libraries\bower_components\lightbox2\js\lightbox.min.js'); ?>"></script>


<!-- Custom js -->
<!-- <script type="text/javascript" src="<?php echo asset('libraries\pages\advance-elements\custom-picker.js'); ?>"></script> -->
<!-- <script type="text/javascript" src="<?php echo asset('libraries\pages\advance-elements\swithces.js'); ?>"></script> -->
<script type="text/javascript" src="<?php echo asset('libraries\pages\advance-elements\select2-custom.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\pages\data-table\js\data-table-custom.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\pages\data-table\extensions\buttons\js\extension-btns-custom.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\pages\dashboard\custom-dashboard.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\js\pcoded.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\js\horizontal-layout.min.js'); ?>"></script>
<script src="<?php echo asset('libraries\js\jquery.mCustomScrollbar.concat.min.js'); ?>"></script>
<script type="text/javascript" src="<?php echo asset('libraries\js\script.js'); ?>"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
<!-- google chart-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery.print/1.6.2/jQuery.print.js" integrity="sha512-BaXrDZSVGt+DvByw0xuYdsGJgzhIXNgES0E9B+Pgfe13XlZQvmiCkQ9GXpjVeLWEGLxqHzhPjNSBs4osiuNZyg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    // $(function() {
    $(document).ready(function() {
        $("#printr").on('click', function() {
           
            $(".print-demo2").print({
                globalStyles: true,
                mediaPrint: false,
                stylesheet: null,
                noPrintSelector: ".no-print",
                iframe: true,
                append: null,
                prepend: null,
                manuallyCopyFormValues: true,
                deferred: $.Deferred(),
                timeout: 750,
                title: null,

            });
        });

    });
</script>

<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-23581568-13');

    $('.user-popup').click(function() {
        if ($(this).find('.show').length == 0) {
            $(this).find('.profile-notification').addClass('show');
        } else {
            $(this).find('.profile-notification').removeClass('show');
        }
    });

    $('.user-notification').click(function() {
        if ($(this).find('.show').length == 0) {
            $(this).find('.notification-view').addClass('show');
        } else {
            $(this).find('.notification-view').removeClass('show');
        }

    });
    $('.user-notification').click(function() {
        $.ajax({
            url: "<?php echo route('individual/dealer/offer/notification') ?>",
            type: 'GET',
            dataType: 'json',
            success: function(response) {
                var data = '';
                $.each(response, function(key, vale) {
                    var date = new Date(vale.create_date);
                    let file = vale.offer_file;
                    let result = file.substr(-3, 3);
                    data = data + '<li class="notification_li">';
                    data = data + '<div class="d-inline-flex">';
                    if (result == 'pdf') {
                        data = data + '<img class="d-flex align-self-center img-radius"   src="http://202.53.169.89:1656/439/25/public/assets/libraries/pdf.png" alt="Generic placeholder image">';
                    } else {
                        data = data + '<img class="d-flex align-self-center img-radius"   src="http://202.53.169.89:1656/439/25/public/assets/' + vale.offer_file + '" alt="Generic placeholder image">';
                    }

                    data = data + '<div class="media-body">';
                    data = data + '<input type="hidden" name="notification_id" class="form-control notification_id" value="' + vale.id + '">';
                    data = data + '<h5 class="notification-user">' + vale.offer_name + '</h5>';
                    data = data + '<p class="notification-msg">' + vale.offer_message + '</p>';
                    data = data + '<span class="notification-time">' + date.toDateString() + '</span>';
                    data = data + '</div>';
                    data = data + '</div>';
                    data = data + '</li>'
                });
                $(".notification_show").html(data);
            }
        })
    });
    $('.notification_show').on('click', '.notification_li', function() {
        var id = $(this).find('.notification_id').val();
        location.replace("<?php echo route('individual/dealer/offer/notification/show/') ?>" + id)
        console.log(id);
        // $.ajax({
        //     url: "<?php echo route('individual/dealer/offer/notification/show') ?>",
        //     type: 'GET',
        //     dataType: 'json',
        //     data: {
        //         'id': id
        //     },
        //     success: function(response) {
        //         console.log(response);
        //         var date = new Date(response.create_date);
        //         location.replace("http://localhost/hcl/25/individual/dealer/offer/notification/view");
        //         $(".user-card_id").html('<div class="card-header">' +
        //             '<h4 style="font-weight: bold;">' + response.offer_name + '</h4>' +
        //             '</div>' +
        //             '<div class="card-block">' +
        //             '<h4>' + date.toDateString() + '</h6>' +
        //             '<div class="top-cap-text">' +
        //             '<p>' + response.offer_message + '</p>' +
        //             '</div>' +
        //             '<img class="img-fluid" src="//localhost/hcl/25/public/assets/' + response.offer_file + '" alt="img-inverse">' +
        //             '</div>');

        //     }




        // })
    });

    $(document).ready(function() {
        $('.closeModal').click(function() {
            $('.modal').hide();
            // $('.currentDe').removeClass('currentDelete');
        })


        $(document).on("click", ".delete", function(){
            $('.deleteModal').show();
            // $(this).addClass('currentDelete');
            // $(this).addClass('currentDe');
            let id = '';
            id = $(this).val();
            console.log(id);
            $('.deleteApprove').click(function() {
                $('.deleteModal').hide();
                $.ajax({
                    url: 'delete',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        'id': id
                    },
                    success: function(response) {
                        console.log(response);
                        if (response == 1) {
                            // $('.currentDelete').closest('tr').empty();
                            location.reload();
                            //console.log(thisBtn);
                            // thisBtn.delete();
                            // toastr.success("Delect Success");
                        }
                    }
                })
            })
        })
        $('.update').click(function() {
            $('.updateModal').show();
            // $(this).addClass('currentDelete');
            // $(this).addClass('currentDe');
            let id = '';
            id = $(this).val();
            $('.deleteApprove').click(function() {
                $('.deleteModal').hide();
                $.ajax({
                    url: 'delete',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        'id': id
                    },
                    success: function(response) {
                        console.log(response);
                        if (response == 1) {
                            // $('.currentDelete').closest('tr').empty();
                            location.reload();
                            // thisBtn.delete();
                            toastr.success("Delect Success");
                        }
                    }
                })
            })
        })
    })

    function notification_count() {
        $.ajax({
            url: "<?php echo route('individual/dealer/offer/count'); ?>",
            type: "GET",
            dataType: "JSON",
            success: function(response) {
                if (response == null) {
                    $('.notification_count').text(0);
                } else {
                    response.forEach(function(value) {
                        $('.notification_count').text(value.count_id);
                    })
                }

            }
        })
    }
    notification_count();
</script>
<script>
  $(".main_menu li a").click(function(){ 
        localStorage.setItem("currentTab", $(this).text());
    })
    var lastSelectedTab = localStorage.getItem("currentTab");
    if (lastSelectedTab) {
        $("a.active").removeClass("active");
        $( "a" ).each(function( index ) { 
            if($( this ).text()==lastSelectedTab){
                if($(this).parent('li').parent('ul').prev('a').text()!=''){
                    $(this).parent('li').parent('ul').prev('a').addClass('active');
                }
                else{
                    $(this).addClass('active');
                }
                if($(this).parent('li').parent('ul').prev('a').parent('li').parent('ul').prev('a').text()!=''){
                    $(this).parent('li').parent('ul').prev('a').parent('li').parent('ul').prev('a').addClass('active');
                }
                else{
                    $(this).addClass('active');
                }
            }
        });
    }   
</script>
<script type="text/javascript">

</script>
</body>

</html>